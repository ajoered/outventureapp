mixin planForm(plan = {})
  form(action=`/addPlan/${plan._id || ''}` method="POST")
    br
    //- pre= h.dump(plan)
    .input-field
      label.active(for="title") Title
      input#title.validate(type="text" name="title" value=plan.title)
    .input-field
      label.active(for='description') Description
      textarea#description.materialize-textarea(name="description")= plan.description
    p Skill-Level
    - const skillChoices = ['Beginner', 'Intermediate', 'Advanced', 'Expert']
    - const skillLevel = plan.skillLevel || []
    .input-field
      each skill in skillChoices
        input(type="checkbox" id=skill value=skill name="skillLevel" checked=(skillLevel.includes(skill)))
        label(for=skill) #{skill}
    br
    p Activities
    - const activityChoices = ['Hiking', 'Backpacking', 'Camping', 'Surfing', 'Scuba Diving']
    - const activities = plan.activities || []
    .input-field
      each activity in activityChoices
        input(type="checkbox" id=activity value=activity name="activities" checked=(activities.includes(activity)))
        label(for=activity) #{activity}
    br
    p Tags
    - const tagChoices = ['Wifi', 'Open Late', 'Family Friendly', 'Vegatarian', 'Licensed']
    - const tags = plan.tags || []
    .input-field
      each tag in tagChoices
        input(type="checkbox" id=tag value=tag name="tags" checked=(tags.includes(tag)))
        label(for=tag) #{tag}
    br
    .file-field.input-field
      .btn
        span Photo
        input(type="file" name="photo" id="photo" accept="image/gif, image/png, image/jpeg")
      .file-path-wrapper
        input.file-path.validate(type='text')
        if plan.photo
          img(src=`/uploads/${plan.photo}`, alt=plan.name width=200)
    input(type="submit" value="Save â†’" class="btn")
